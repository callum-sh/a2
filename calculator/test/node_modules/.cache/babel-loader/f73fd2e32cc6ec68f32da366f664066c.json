{"ast":null,"code":"import _defineProperty from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import List from\"./List\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Note(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNewNotes=_useState2[1];var _useState3=useState({title:\"\",content:\"\"}),_useState4=_slicedToArray(_useState3,2),formNote=_useState4[0],setFormNote=_useState4[1];useEffect(function(){getNotes();},[]);function getNotes(){axios({method:\"GET\",url:\"/notes/\"}).then(function(response){var data=response.data;setNewNotes(data);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}function createNote(event){axios({method:\"POST\",url:\"/notes/\",data:{title:formNote.title,content:formNote.content}}).then(function(response){getNotes();});setFormNote({title:\"\",content:\"\"});event.preventDefault();}function DeleteNote(id){axios({method:\"DELETE\",url:\"/notes/\".concat(id,\"/\")}).then(function(response){getNotes();});}function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setFormNote(function(prevNote){return _objectSpread(_objectSpread({},prevNote),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"create-note\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formNote.title,name:\"title\",placeholder:\"Title\",value:formNote.title}),/*#__PURE__*/_jsx(\"textarea\",{onChange:handleChange,name:\"content\",placeholder:\"Take a note...\",value:formNote.content}),/*#__PURE__*/_jsx(\"button\",{onClick:createNote,children:\"Create Post\"})]}),notes&&notes.map(function(note){return/*#__PURE__*/_jsx(List,{id:note.id,title:note.title,content:note.content,deletion:DeleteNote},note.id);})]});}export default Note;","map":{"version":3,"names":["useState","useEffect","axios","List","Note","notes","setNewNotes","title","content","formNote","setFormNote","getNotes","method","url","then","response","data","catch","error","console","log","status","headers","createNote","event","preventDefault","DeleteNote","id","handleChange","target","value","name","prevNote","map","note"],"sources":["/Users/callum/Documents/school/csc301/a2/calculator/frontend/src/components/Notes.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport List from \"./List\"\n\nfunction Note() {\n\n    const [notes, setNewNotes] = useState(null)\n    const [formNote, setFormNote] = useState({\n        title: \"\",\n        content: \"\"\n    })\n\n    useEffect(() => {\n        getNotes()\n    }, [])\n\n    function getNotes() {\n        axios({\n            method: \"GET\",\n            url: \"/notes/\",\n        }).then((response) => {\n            const data = response.data\n            setNewNotes(data)\n        }).catch((error) => {\n            if (error.response) {\n                console.log(error.response);\n                console.log(error.response.status);\n                console.log(error.response.headers);\n            }\n        })\n    }\n\n    function createNote(event) {\n        axios({\n            method: \"POST\",\n            url: \"/notes/\",\n            data: {\n                title: formNote.title,\n                content: formNote.content\n            }\n        })\n            .then((response) => {\n                getNotes()\n            })\n\n        setFormNote(({\n            title: \"\",\n            content: \"\"\n        }))\n\n        event.preventDefault()\n    }\n\n    function DeleteNote(id) {\n        axios({\n            method: \"DELETE\",\n            url: `/notes/${id}/`,\n        })\n            .then((response) => {\n                getNotes()\n            })\n    }\n\n    function handleChange(event) {\n        const { value, name } = event.target\n        setFormNote(prevNote => ({\n            ...prevNote, [name]: value\n        })\n        )\n    }\n\n\n    return (\n\n        <div className=''>\n\n            <form className=\"create-note\">\n                <input onChange={handleChange} text={formNote.title} name=\"title\" placeholder=\"Title\" value={formNote.title} />\n                <textarea onChange={handleChange} name=\"content\" placeholder=\"Take a note...\" value={formNote.content} />\n                <button onClick={createNote}>Create Post</button>\n            </form>\n\n            {notes && notes.map(note => <List\n                key={note.id}\n                id={note.id}\n                title={note.title}\n                content={note.content}\n                deletion={DeleteNote}\n            />\n            )}\n\n        </div>\n\n    );\n}\n\nexport default Note;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}