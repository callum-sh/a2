{"ast":null,"code":"import _defineProperty from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import List from\"./List\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Item(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setNewItems=_useState2[1];var _useState3=useState({total:\"\",price:\"\"}),_useState4=_slicedToArray(_useState3,2),formItems=_useState4[0],setFormItems=_useState4[1];useEffect(function(){getItems();},[]);function getItems(){axios({method:\"GET\",url:\"/items/\"}).then(function(response){var data=response.data;setNewItems(data);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}function addItem(event){axios({method:\"POST\",url:\"/items/\",data:{title:formItem.name,price:formItem.price}}).then(function(response){getItems();});setFormNote({name:\"\",price:\"\"});event.preventDefault();}function deleteItem(id){axios({method:\"DELETE\",url:\"/items/\".concat(id,\"/\")}).then(function(response){getItems();});}function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setFormItems(function(prevItem){return _objectSpread(_objectSpread({},prevItem),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"create-checkout\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formItem.name,name:\"name\",placeholder:\"item name\",value:formItem.name}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"number\",name:\"price\",placeholder:\"add price\",value:formItem.price}),/*#__PURE__*/_jsx(\"button\",{onClick:addItem,children:\"Add Item\"})]}),items&&items.map(function(item){return/*#__PURE__*/_jsx(List,{id:item.id,name:item.name,price:item.price,deletion:deleteItem},item.id);})]});}export default Item;","map":{"version":3,"names":["useState","useEffect","axios","List","Item","items","setNewItems","total","price","formItems","setFormItems","getItems","method","url","then","response","data","catch","error","console","log","status","headers","addItem","event","title","formItem","name","setFormNote","preventDefault","deleteItem","id","handleChange","target","value","prevItem","map","item"],"sources":["/Users/callum/Documents/school/csc301/a2/calculator/frontend/src/components/Items.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport List from \"./List\"\n\nfunction Item() {\n\n    const [items, setNewItems] = useState(null)\n    const [formItems, setFormItems] = useState({\n        total: \"\",\n        price: \"\"\n    })\n\n    useEffect(() => {\n        getItems()\n    }, [])  \n\n    function getItems() {\n        axios({\n            method: \"GET\",\n            url: \"/items/\",\n        }).then((response) => {\n            const data = response.data\n            setNewItems(data)\n        }).catch((error) => {\n            if (error.response) {\n                console.log(error.response);\n                console.log(error.response.status);\n                console.log(error.response.headers);\n            }\n        })\n    }\n\n    function addItem(event) {\n        axios({\n            method: \"POST\",\n            url: \"/items/\",\n            data: {\n                title: formItem.name,\n                price: formItem.price\n            }\n        })\n            .then((response) => {\n                getItems()\n            })\n\n        setFormNote(({\n            name: \"\",\n            price: \"\"\n        }))\n\n        event.preventDefault()\n    }\n\n    function deleteItem(id) {\n        axios({\n            method: \"DELETE\",\n            url: `/items/${id}/`,\n        })\n            .then((response) => {\n                getItems()\n            })\n    }\n\n    function handleChange(event) {\n        const { value, name } = event.target\n        setFormItems(prevItem => ({\n            ...prevItem, [name]: value\n        })\n        )\n    }\n\n\n    return (\n\n        <div className=''>\n\n            <form className=\"create-checkout\">\n                <input onChange={handleChange} text={formItem.name} name=\"name\" placeholder=\"item name\" value={formItem.name} />\n                <input onChange={handleChange} type=\"number\" name=\"price\" placeholder=\"add price\" value={formItem.price} />\n                <button onClick={addItem}>Add Item</button>\n            </form>\n\n            {items && items.map(item => <List\n                key={item.id}\n                id={item.id}\n                name={item.name}\n                price={item.price}\n                deletion={deleteItem}\n            />\n            )}\n\n        </div>\n\n    );\n}\n\nexport default Item;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}