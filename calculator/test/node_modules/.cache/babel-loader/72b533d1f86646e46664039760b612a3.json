{"ast":null,"code":"import _defineProperty from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/callum/Documents/school/csc301/a2/calculator/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import List from\"./List\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Item(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setNewItems=_useState2[1];var _useState3=useState({name:\"\",price:\"\"}),_useState4=_slicedToArray(_useState3,2),formItem=_useState4[0],setFormItem=_useState4[1];useEffect(function(){getItems();},[]);function getItems(){axios({method:\"GET\",url:\"/items/\"}).then(function(response){var data=response.data;setNewItems(data);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}function createItem(event){axios({method:\"POST\",url:\"/items/\",data:{name:formItem.name,price:formItem.price}}).then(function(response){getItems();});setFormItem({name:\"\",price:\"\"});event.preventDefault();}function DeleteItem(id){axios({method:\"DELETE\",url:\"/items/\".concat(id,\"/\")}).then(function(response){getItems();});}function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setFormItem(function(prevItem){return _objectSpread(_objectSpread({},prevItem),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"create-note\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formItem.name,name:\"name\",placeholder:\"item name\",value:formItem.name}),/*#__PURE__*/_jsx(\"textarea\",{onChange:handleChange,name:\"price\",placeholder:\"add price\",value:formItem.price}),/*#__PURE__*/_jsx(\"button\",{onClick:createItem,children:\"Create Item\"})]}),items&&items.map(function(item){return/*#__PURE__*/_jsx(List,{id:item.id,name:item.name,price:item.price,deletion:DeleteItem},item.id);})]});}export default Item;","map":{"version":3,"names":["useState","useEffect","axios","List","Item","items","setNewItems","name","price","formItem","setFormItem","getItems","method","url","then","response","data","catch","error","console","log","status","headers","createItem","event","preventDefault","DeleteItem","id","handleChange","target","value","prevItem","map","item"],"sources":["/Users/callum/Documents/school/csc301/a2/calculator/frontend/src/components/Items.jsx"],"sourcesContent":["import {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport List from \"./List\"\n\nfunction Item() {\n\n    const [items , setNewItems] = useState(null)\n    const [formItem, setFormItem] = useState({\n      name: \"\",\n      price: \"\"\n    })\n\n    useEffect(() => {\n      getItems()\n        } ,[])\n\n    function getItems() {\n      axios({\n          method: \"GET\",\n          url:\"/items/\",\n        }).then((response)=>{\n          const data = response.data\n          setNewItems(data)\n        }).catch((error) => {\n          if (error.response) {\n            console.log(error.response);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n            }\n        })}\n\n    function createItem(event) {\n        axios({\n          method: \"POST\",\n          url:\"/items/\",\n          data:{\n            name: formItem.name,\n            price: formItem.price\n           }\n        })\n        .then((response) => {\n          getItems()\n        })\n\n        setFormItem(({\n          name: \"\",\n          price: \"\"}))\n\n        event.preventDefault()\n    }\n\n    function DeleteItem(id) {\n        axios({\n          method: \"DELETE\",\n          url:`/items/${id}/`,\n        })\n        .then((response) => {\n          getItems()\n        })\n    }\n\n    function handleChange(event) { \n        const {value, name} = event.target\n        setFormItem(prevItem => ({\n            ...prevItem, [name]: value})\n        )}\n\n\n  return (\n\n     <div className=''>\n\n        <form className=\"create-note\">\n          <input onChange={handleChange} text={formItem.name} name=\"name\" placeholder=\"item name\" value={formItem.name} />\n          <textarea onChange={handleChange} name=\"price\" placeholder=\"add price\" value={formItem.price} />\n          <button onClick={createItem}>Create Item</button>\n        </form>\n\n        { items && items.map(item => <List\n        key={item.id}\n        id={item.id}\n        name={item.name}\n        price={item.price} \n        deletion ={DeleteItem}\n        />\n        )}\n\n    </div>\n\n  );\n}\n\nexport default Item;"],"mappings":"ubAAA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACzC,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,KAAI,KAAM,QAAQ,yFAEzB,QAASC,KAAI,EAAG,CAEZ,cAA8BJ,QAAQ,CAAC,IAAI,CAAC,wCAArCK,KAAK,eAAGC,WAAW,eAC1B,eAAgCN,QAAQ,CAAC,CACvCO,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EACT,CAAC,CAAC,yCAHKC,QAAQ,eAAEC,WAAW,eAK5BT,SAAS,CAAC,UAAM,CACdU,QAAQ,EAAE,CACR,CAAC,CAAE,EAAE,CAAC,CAEV,QAASA,SAAQ,EAAG,CAClBT,KAAK,CAAC,CACFU,MAAM,CAAE,KAAK,CACbC,GAAG,CAAC,SACN,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAG,CAClB,GAAMC,KAAI,CAAGD,QAAQ,CAACC,IAAI,CAC1BV,WAAW,CAACU,IAAI,CAAC,CACnB,CAAC,CAAC,CAACC,KAAK,CAAC,SAACC,KAAK,CAAK,CAClB,GAAIA,KAAK,CAACH,QAAQ,CAAE,CAClBI,OAAO,CAACC,GAAG,CAACF,KAAK,CAACH,QAAQ,CAAC,CAC3BI,OAAO,CAACC,GAAG,CAACF,KAAK,CAACH,QAAQ,CAACM,MAAM,CAAC,CAClCF,OAAO,CAACC,GAAG,CAACF,KAAK,CAACH,QAAQ,CAACO,OAAO,CAAC,CACnC,CACJ,CAAC,CAAC,EAEN,QAASC,WAAU,CAACC,KAAK,CAAE,CACvBtB,KAAK,CAAC,CACJU,MAAM,CAAE,MAAM,CACdC,GAAG,CAAC,SAAS,CACbG,IAAI,CAAC,CACHT,IAAI,CAAEE,QAAQ,CAACF,IAAI,CACnBC,KAAK,CAAEC,QAAQ,CAACD,KACjB,CACH,CAAC,CAAC,CACDM,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBJ,QAAQ,EAAE,CACZ,CAAC,CAAC,CAEFD,WAAW,CAAE,CACXH,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CAAC,CAAE,CAEdgB,KAAK,CAACC,cAAc,EAAE,CAC1B,CAEA,QAASC,WAAU,CAACC,EAAE,CAAE,CACpBzB,KAAK,CAAC,CACJU,MAAM,CAAE,QAAQ,CAChBC,GAAG,kBAAWc,EAAE,KAClB,CAAC,CAAC,CACDb,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBJ,QAAQ,EAAE,CACZ,CAAC,CAAC,CACN,CAEA,QAASiB,aAAY,CAACJ,KAAK,CAAE,CACzB,kBAAsBA,KAAK,CAACK,MAAM,CAA3BC,KAAK,eAALA,KAAK,CAAEvB,IAAI,eAAJA,IAAI,CAClBG,WAAW,CAAC,SAAAqB,QAAQ,wCACbA,QAAQ,wBAAGxB,IAAI,CAAGuB,KAAK,IAAE,CAC/B,EAGP,mBAEG,aAAK,SAAS,CAAC,EAAE,wBAEd,cAAM,SAAS,CAAC,aAAa,wBAC3B,cAAO,QAAQ,CAAEF,YAAa,CAAC,IAAI,CAAEnB,QAAQ,CAACF,IAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAEE,QAAQ,CAACF,IAAK,EAAG,cAChH,iBAAU,QAAQ,CAAEqB,YAAa,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAEnB,QAAQ,CAACD,KAAM,EAAG,cAChG,eAAQ,OAAO,CAAEe,UAAW,yBAAqB,GAC5C,CAELlB,KAAK,EAAIA,KAAK,CAAC2B,GAAG,CAAC,SAAAC,IAAI,qBAAI,KAAC,IAAI,EAElC,EAAE,CAAEA,IAAI,CAACN,EAAG,CACZ,IAAI,CAAEM,IAAI,CAAC1B,IAAK,CAChB,KAAK,CAAE0B,IAAI,CAACzB,KAAM,CAClB,QAAQ,CAAGkB,UAAW,EAJjBO,IAAI,CAACN,EAAE,CAKV,GACD,GAEC,CAGV,CAEA,cAAevB,KAAI"},"metadata":{},"sourceType":"module"}